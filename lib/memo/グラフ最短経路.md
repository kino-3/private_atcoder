# グラフ最短経路の解法のメモ

## 部分集合全結合

「頂点集合の部分集合 S の全点対の無向経路のコストが c」という情報が複数与えられたとき

### 問題点

情報の個数を M とすると, edge の個数が E = O(|S|^2 M) となるので, |S| と |V| が大きいとき, dijkstra の O(E log|V|), O(|V|^2) や bellmann ford の O(|V||E|) のでは TLE, MLE する。

### 解法

{v1, v2, v3, v4, v5} の全点対のコストが c のとき, (5_C_2 個の辺をはるかわりに)「ハブとなる頂点を 1 個追加し, 各頂点とハブの間にコスト c の辺を合計 5 個作成する」ことを M 回行う。最終的なコストは 1/2 する必要がある。

### 参考問題

- [問題](https://atcoder.jp/contests/typical90/tasks/typical90_bb)
  - [解答](../../atcoder/other/typical90/054.cpp)
  - [参考図](https://twitter.com/e869120/status/1399496993014116352/photo/1)
