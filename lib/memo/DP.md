# DP

## 問題

- 並べた 2N 個の要素のペアリングの作る手順の場合の数(同じ結果でも作る順番が違えば区別される)
- 制約: ペアリングがクロスしない
  - OK: AABB, ABBA
  - NG: ABAB

## 解法

- 区間DP: dp[l][n] = [l, l+2n) の部分の結果
- l とペアになる k は l+1, l+3, ..., l + 2i - 1, ..., l+2n-1
- 手順では [l, k], [k+1, r) の群のどちらかを選んでペアを1つつくることを繰り返すので, nCi
- dp[l][r] = Σ_k (dp[l+1][k] * dp[k+1][r] * nCi)

## 参考問題

- [問題](https://atcoder.jp/contests/abc217/tasks/abc217_f)

## 問題

- 並べた N 個の整数の [L, R] の和が 0 となる (L, R) の組について O(N log N)
- (和が K となる区間の判定なども同様)

## 解法

map の key を累積和とする

- v: [1, R] の累積和
- map[v]: そのときの R のリストなど
  - map[v] が空でないとき, 再び累積和が v となったなら区間和が 0 となっている
- 例: 累積和が 1, 4, 5, 10, 7 のとき, 次の累積和が 5 なら {5, 10, 7 , 5} に相当する区間の和は 0

## 参考問題

- [問題](https://atcoder.jp/contests/abc230/tasks/abc230_f)
