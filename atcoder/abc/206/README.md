# ABC 206

## 重要メモ

- E: k の倍数の場合の答が分かるときの, ちょうど k の時の答え
  - ちょうど k のときの答を dp[k] とすると
    - dp[k] = ans(k の倍数のとき) - (dp[2k] + dp[3k] + ...)
    - k が大きい方から dp を確定する
    - 計算量は N/1 + N/2 + ... + N/N = O(NlogN)

## C

- 区間和を map で管理する方法と同じ方法で解いた
- MAP[p]: 値が p のものの個数 を考えて, 全体から Σ p_C_2 を引いて解くこともできる
- sort しても答が変わらないので, sort して解くこともできる

## D

- 数字の種類を node として, 同じとみなすかを edge として, 連結成分を考える -> Union-Find

## E

- 互いに素でない L 以上 R 以下の整数の組
  - 同じ素因数を 2 つ以上含まない(自解法では continue) R 以下の整数 k について, この区間に含まれる k の倍数の個数を a とすると, k の倍数の組は a_C_2
    - k の素因数の個数を考えるのは線形篩を使った
  - k に含まれる素因数の個数で包除原理
  - g ≠ 1 は最後に考える (同時に考えて苦戦した)
- 最大公約数が g になるものを基準に考える
- 約数包除原理
  - gcd(x,y) = k となる個数を dp[k] とする
  - gcd(x,y) = (k の倍数) となる個数を f(k) とする
    - f(k) = dp[k] + dp[2k] + dp[3k] + dp[4k] + ... (上限 R)
  - k が大きい方から dp[k] を求めればよい
  - 計算量は N/1 + N/2 + ... + N/N = O(NlogN)
- 問題文の条件 A (g≠1) and B (x/g≠1) and C(y/g≠1)の個数を
  - n(U) - n(￢A or ￢B or ￢C)
  - = n(U) - {n(￢A) + n(￢B) + n(￢C) - n(￢A and ￢B) - n(￢B and ￢C) - n(￢C and ￢A) + n(￢A and ￢B and ￢C)}

## F

- 山が分割されるタイプの grundy 数 + 区間 DP のような問題
- grundy 数の状態は区間の両端で O(N^2), 状態遷移先はそれぞれ O(N), 全体で O(N^3)
